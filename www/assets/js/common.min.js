let Fn={},Evt={},getGeoLocation=($(()=>{document.addEventListener("touchstart",function(e){1<e.touches.length&&e.preventDefault()},{passive:!1});let s=0;document.addEventListener("touchend",function(e){var t=(new Date).getTime();t-s<=300&&(e.preventDefault(),document.body.style.transform="scale(1)",document.body.style.transformOrigin="0 0"),s=t},{passive:!1})}),Evt.press=window.PointerEvent?"pointerdown":"ontouchstart"in window?"touchstart":"mousedown",Evt.release=window.PointerEvent?"pointerup":"ontouchstart"in window?"touchend":"mouseup",Fn.formatDistanceKm=(e=0)=>{let t=Number(e);return Number.isFinite(t)?(t=Math.abs(t)<1e-9?0:t)<1?Math.max(0,Math.round(1e3*t))+"m":Math.round(10*t)/10+"km":"---"},async(e=5,t=10)=>{let s=0,a={error_message:"現在地を取得できませんでした"};for(;s<e;)try{if((a=await new Promise((t,s)=>{navigator.geolocation.getCurrentPosition(e=>{t({lat:e.coords.latitude,lng:e.coords.longitude,accuracy:e.coords.accuracy})},e=>{switch(e.code){case e.PERMISSION_DENIED:s("位置情報のアクセスが拒否されました。");break;case e.POSITION_UNAVAILABLE:s("位置情報が利用できません。");break;case e.TIMEOUT:s("位置情報の取得がタイムアウトしました。");break;default:s("位置情報の取得に失敗しました。")}},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})})).accuracy<=t)return a;s++}catch(e){return a||{error_message:e}}return a}),getParam=e=>{e=new URLSearchParams(location.search).get(e);return e?decodeURIComponent(e):""},MAP=(Fn.getSearchKeywords=(e="")=>"string"!=typeof e?[]:e.normalize("NFKC").trim().split(/\s+/).filter(Boolean),Fn.getYmdJa=(e,t="ymd")=>{var s=new Date(e);switch(t){case"d":formatted=s.getDate()+"日";break;case"md":formatted=`${s.getMonth()+1}月${s.getDate()}日`;break;default:formatted=`${s.getFullYear()}年${s.getMonth()+1}月${s.getDate()}日`}return formatted},Fn.isPastDate=(e,t,s=!1)=>{"today"===t&&(t=null);let a=(e="today"===e?null:e)?new Date(e.replace(/-/g,"/")):new Date,o=t?new Date(t.replace(/-/g,"/")):new Date;return a=a.setHours(0,0,0,0),o=o.setHours(0,0,0,0),s?a<=o:a<o},Fn.loadJson=async e=>{try{var t=await fetch(e);if(t.ok)return await t.json();throw new Error("HTTPエラー: "+t.status)}catch(e){return console.error("JSON取得失敗:",e),null}},Fn.loadJsonMultiple=async e=>await Promise.all(e.map(e=>Fn.loadJson(e))),{}),IS_LOCALSTORAGE=(MAP.markers=[],MAP.z_index=0,MAP.createMarker=({map:e,id:t,lat:s,lng:a,z_index:o,content:n,func:r})=>{e=new MAP.advaned_marker({map:e,position:{lat:s,lng:a},zIndex:o,content:n});e.addListener("click",()=>{r&&r(t)}),e._meta={id:t,lat:s,lng:a,z_index:o},MAP.markers.push({id:t,marker:e})},MAP.showMarker=t=>{var e=MAP.markers.find(e=>e.id===+t);e&&(e.marker.map=MAP.gmap)},MAP.showAllMarkers=()=>{MAP.markers.forEach(e=>{e.marker.map=MAP.gmap})},MAP.hideMarker=t=>{var e=MAP.markers.find(e=>e.id===+t);e&&(e.marker.map=null)},MAP.hideAllMarkers=()=>{MAP.markers.forEach(e=>{e.marker.map=null})},MAP.removeMarker=t=>{var e=MAP.markers.findIndex(e=>e.id===+t);e&&(MAP.markers[e].marker.map=null,MAP.markers.splice(e,1))},MAP.removeAllMarkers=()=>{MAP.hideAllMarkers(),MAP.markers=[]},MAP.animateMarker=t=>{var e,s=MAP.markers.find(e=>e.id===+t);s&&(e=(s=s.marker).content,MAP.z_index++,s.zIndex=MAP.z_index,e.classList.remove("maps-marker-pop"),e.offsetWidth,e.classList.add("maps-marker-pop"))},MAP.removeClassMarker=(t,e)=>{var s=MAP.markers.find(e=>e.id===+t);s&&s.marker.content.classList.add(e)},MAP.removeClassMarker=(t,e)=>{var s=MAP.markers.find(e=>e.id===+t);s&&s.marker.content.classList.remove(e)},MAP.addClassAllMarkers=t=>{MAP.markers.forEach(e=>{e.marker.content.classList.add(t)})},MAP.removeClassAllMarkers=t=>{MAP.markers.forEach(e=>{e.marker.content.classList.remove(t)})},MAP.getCenter=()=>{var e=MAP.gmap.getCenter();return{lat:e.lat(),lng:e.lng()}},MAP.panTo=(e,t)=>{e=MAP.normalizeLatLng(e,t);e&&MAP.gmap.panTo(e)},MAP.getCenterAfterChanged=t=>{MAP.gmap.addListener("idle",()=>{var e=MAP.getCenter();t(e.lat,e.lng)})},MAP.getAddressFromLatLng=(t,s)=>new Promise((a,e)=>{(new google.maps.Geocoder).geocode({location:{lat:t,lng:s}},(t,s)=>{if("OK"===s&&t[0]){let e=t[0].formatted_address;e.startsWith("日本")&&(e=(e=(e=(e=(e=e.replace(/^日本、?/,"")).replace(/〒\d{3}-\d{4}\s*/,"")).split(/[ー−-]/)[0]).trim()).replace(/[０-９]/g,e=>String.fromCharCode(e.charCodeAt(0)-65248))),a({status:s,str:e})}else e({status:s})})}),MAP.normalizeLatLng=(e,t)=>{e=Number(e),t=Number(t);return!Number.isFinite(e)||!Number.isFinite(t)||e<-90||90<e||t<-180||180<t?null:{lat:e,lng:t}},Fn.mapGetDistance=(e,t,s,a)=>{var o=e=>e*Math.PI/180,n=o(s-e),a=o(a-t),t=Math.sin(n/2)*Math.sin(n/2)+Math.cos(o(e))*Math.cos(o(s))*Math.sin(a/2)*Math.sin(a/2);return 6371*(2*Math.atan2(Math.sqrt(t),Math.sqrt(1-t)))},Fn.matchByKeywords=(e="",t=[],s="AND")=>{if(!Array.isArray(t)||0===t.length)return!0;let a=e||"",o="OR"===s?"OR":"AND";return"AND"==o?t.every(e=>a.includes(Fn.textNormalizeForSearch(e))):t.some(e=>a.includes(Fn.textNormalizeForSearch(e)))},$(()=>{$(document).on(Evt.release,".js-propagation",e=>{e.stopPropagation()})}),Fn.shuffle=(e=[])=>{var t=[...e];let s,a;for(s=t.length;1<s;s--)a=Math.floor(Math.random()*s),[t[a],t[s-1]]=[t[s-1],t[a]];return t},Fn.slide={},Fn.slide.is_touch="ontouchstart"in window&&"ontouchend"in window||navigator.msPointerEnabled,Fn.slide.start=Fn.slide.is_touch?"touchstart":"mousedown",Fn.slide.move=Fn.slide.is_touch?"touchmove":"mousemove",Fn.slide.end=Fn.slide.is_touch?"touchend":"mouseup",Fn.slide.leave=Fn.slide.is_touch?"touchleave":"mouseleave",Fn.slide.is_session="sessionStorage"in window&&null!==window.sessionStorage,Fn.slide.storage=(t,e)=>{let s=null;if(Fn.slide.is_session&&void 0!==t)if(void 0!==e)sessionStorage[t]="object"==typeof e?JSON.stringify(e):e;else try{s=new Function("return "+sessionStorage[t])()}catch(e){s=sessionStorage[t]}return s},Fn.slide.storageDel=e=>{sessionStorage.removeItem(e)},Fn.slide.show=(s=".slideshow",e={})=>{let a=$(s),o=$(".slideshow__flex",a),t=$(".slideshow__unit",a),n=$(".js-slide-nav",a),r=$("a",n),l=e.t?$(".js-slide-link",e.t):$(".js-slide-link"),i=e.interval||!1===e.interval?e.interval:3e3,c=e.before,p=e.after,h=e.click,d=e.is_keyboard,u=[],m,g,v,f,k=0,w=e.no||1,b,j,P,y,M,_,A,F,S,x=t.width(),C=(0===x&&setTimeout(()=>{x=t.width()},1),Fn.slide.storage(s)&&(w=Fn.slide.storage(s),Fn.slide.storageDel(s)),$("img",a).attr("draggable","false"),()=>{var e=t.width();c&&c(),0!=e&&(x=e),o.stop().animate({left:x*(w-1)*-1},()=>{p&&p()}),L()}),L=()=>{1<t.length?(a.attr("data-no",w),0<r.length&&(r.removeClass("on"),$('[data-nav="'+w+'"]',a).addClass("on"))):n.remove()},T=e=>{switch(e){case"next":(w+=1)>k&&(w=1);break;case"prev":(w-=1)<1&&(w=k)}},D=()=>{f&&clearTimeout(f),f=setTimeout(()=>{g&&(T("next"),C()),D()},i)};!d&&1!==$(".slideshow").length||document.addEventListener("keydown",e=>{switch(e.key){case"ArrowLeft":i&&D(),T("prev"),C();break;case"ArrowRight":i&&D(),T("next"),C()}return!1}),$(window).on("resize",()=>{x=t.width(),o.css("left",x*(w-1)*-1)}),r.on("click",function(){var e=$(this).attr("data-nav")||"next";return g=!1,"prev"===e||"next"===e?T(e):w=+e,C(),!1}),l.on("click",function(){var e=$(this).attr("data-nav")||"next";return g=!1,"prev"===e||"next"===e?T(e):w=+e,C(),!1});k=t.length,t.each(function(){var e=$(this).attr("data-href");e&&""!=e?u.push(e):u.push(null)}),o.css("left",x*(w-1)*-1),L(),(()=>{let t=()=>{m=!1,v&&clearTimeout(v),v=setTimeout(()=>{!m&&i&&(g=!0)},i)};a.on(Fn.slide.start,e=>{m=!1,g=!1,b=(Fn.slide.is_touch?e.touches[0]:e).pageX,j=(Fn.slide.is_touch?e.touches[0]:e).pageY,P=b,y=j}).on(Fn.slide.end,e=>{A=P-M,F=y-_,m?(Math.abs(F)<50&&(50<A?T("next"):A<-50&&T("prev"),C(),e.preventDefault()),t()):(h&&h(),u[w-1]&&(Fn.slide.storage(s,w),location.href=u[w-1]))}).on(Fn.slide.leave,t).on(Fn.slide.move,e=>{m=!0,M=(Fn.slide.is_touch?e.touches[0]:e).pageX,_=(Fn.slide.is_touch?e.touches[0]:e).pageY,A=P-M,F=y-_,50<Math.abs(A)&&(o.css({left:S-(b-M)}),b=M,e.preventDefault())})})(),i&&(g=!0,D())},"localStorage"in window&&null!==window.localStorage),IS_SESSIONSTORAGE="sessionStorage"in window&&null!==window.sessionStorage,getCreateUser=(Fn.storageLS=(t,e)=>{let s=null;if(IS_LOCALSTORAGE&&void 0!==t)if(void 0!==e)localStorage[t]="object"==typeof e?JSON.stringify(e):e;else try{s=new Function("return "+localStorage[t])()}catch(e){s=localStorage[t]}return s},Fn.storageDelLS=e=>{localStorage.removeItem(e)},Fn.storageSS=(t,e)=>{let s=null;if(IS_SESSIONSTORAGE&&void 0!==t)if(void 0!==e)sessionStorage[t]="object"==typeof e?JSON.stringify(e):e;else try{s=new Function("return "+sessionStorage[t])()}catch(e){s=sessionStorage[t]}return s},Fn.storageDelSS=e=>{sessionStorage.removeItem(e)},Fn.textNormalizeForSearch=(e="")=>"string"!=typeof e?"":e.normalize("NFKC").toLowerCase().replace(/[\u30a1-\u30f6]/g,e=>String.fromCharCode(e.charCodeAt(0)-96)).replace(/ー/g,"").replace(/\s+/g,"").replace(/ゔぁ/g,"ば").replace(/ゔぃ/g,"び").replace(/ゔぇ/g,"べ").replace(/ゔぉ/g,"ぼ").replace(/ゔ/g,"ぶ").replace(/[・,，.．]/g,""),$(()=>{$(document).on("submit",".js-form-event",function(){let e=$(this),t=$(".js-form-error",e),s=$('[name="id"]',e),a=s.val();return t.html("").css({visibility:"hidden"}),(async()=>{try{var e=await getEventInfo(a);if("success"!=e.status)return!t.html(e.message).css({visibility:"visible"});Photos.event_name=a,Photos.photowalkers=e.photowalkers,Photos.ls.event_name=a,Fn.storageLS("photowalk",Photos.ls),$(".js-page").html(page_account).hide(),$(".js-account-title").html(e.title),$(".js-account-time").html(e.date),$(".js-account-excerpt").html(e.excerpt),$(".js-page").show(),Photos.ls.uid&&$('.js-form-account input[name="display_name"]').val(Photos.ls.uid)}catch(e){return!$(".js-page").html(page_error)}})(),!1}),$(document).on("click",".js-account-firsttime",()=>{$('.js-account[data-flow="1"]').hide(),$('.js-account[data-flow="2-1"]').show()}),$(document).on("click",".js-account-returning",()=>{$('.js-account[data-flow="1"]').hide(),$('.js-account[data-flow="2-2"]').show()}),$(document).on("click",".js-link-account",()=>{$(".js-account").hide(),$('.js-account[data-flow="1"]').show()}),$(document).on("click",".js-account-create",function(){$(this).replaceWith(`
      <button class="js-account-create-number">
        <span class="animation-blinker" style="font-size:14px;">
          <span class="ja">作成中...</span>
          <span class="en">Creating...</span>
        </span>
      </button>
    `),(async()=>{try{var e=await getCreateUser();if("success"!=e.status)return!$(".js-page").html(page_error);Photos.handle=e.uid,Photos.ls.uid=e.uid,Fn.storageLS("photowalk",Photos.ls),$(".js-account-create-number").replaceWith(`
          <p><strong>${e.uid}</strong></p>
          <p><button class="js-account-next" style="width:5em;">OK</button></p>
        `),$('.js-account[data-flow="1"]').hide(),$('.js-account[data-flow="2-1"]').show()}catch(e){return!$(".js-page").html(page_error)}})()}),Photos.showList=()=>{let e="",t;for($(".js-page").html(page_list).hide(),t=0;t<Photos.photowalkers.length;t++){var s=Photos.photowalkers[t];e+=`
        <li>
          <a class="js-link-photowalker" data-name="${s.name}">${s.name}</a>
        </li>
      `}$(".js-photowalkers-list").html(e),$(".js-page").show()},$(document).on("click",".js-account-next",Photos.showList),$(document).on("submit",".js-form-account",function(){let e=$(this),t=$(".js-form-error",e),s=$('[name="display_name"]',e),a=s.val();return t.css({visibility:"hidden"}),(async()=>{try{var e=await getUser(a);if("success"!=e.status)return!t.html(e.message).css({visibility:"visible"});Photos.handle=e.user.handle,Photos.likes=e.likes,Photos.showList(),Photos.ls.uid=e.user.handle,Fn.storageLS("photowalk",Photos.ls)}catch(e){return!$(".js-page").html(page_error)}})(),!1}),$(document).on("click",".js-link-photowalker",function(){let t=$(this).attr("data-name"),e=Photos.photowalkers.find(e=>e.name===t)?.images||[],s=Fn.shuffle(e),a="",o;for($(".js-page").html(page_photos).hide(),o=0;o<s.length;o++)a+=`<li data-filename="${s[o]}"><img src="./assets/photos/${Photos.event_name}/${t}/${s[o]}" loading="lazy"></li>`;if($(".js-photos-list").html(a),Photos.selected_photowaker=t,Photos.likes){for(o=0;o<Photos.likes.length;o++){var n=Photos.likes[o];n.photowalker===t&&(console.log(`.js-photos-list li[data-filename="${n.filename}"]`),$(`.js-photos-list li[data-filename="${n.filename}"]`).addClass("selected"))}$(".js-photos-selected-num").html($(".js-photos-list li.selected").length)}0===$(".js-photos-list li.selected").length&&$(".js-photos-selected, .js-photos-submit").css({opacity:.3}),$(".js-page").show()}),$(document).on("click",".js-photos-list li",function(){var e=$(this),e=(e.hasClass("selected")?(e.addClass("temp"),e.removeClass("selected")):(e.removeClass("temp"),e.addClass("selected")),$(".js-photos-list li.selected").length),t=$(".js-photos-selected, .js-photos-submit");$(".js-photos-selected-num").html(e),0<e?t.css({opacity:1}):t.css({opacity:.3})}),$(document).on("click",".js-photos-layout",function(){var e=$(this).attr("data-type");$(".js-photos-list").attr("data-layout",e)}),$(document).on("click",".js-photos-bg",()=>{var e=$(".js-photos"),t="white"===e.attr("data-bg")?"black":"white";e.attr("data-bg",t)}),$(document).on("click",".js-photos-selected",()=>{if(0===$(".js-photos-list li.selected").length)return!1;$(".js-photos-list li.temp").removeClass("temp"),$(".js-photos").attr("data-type","submit"),window.scrollTo(0,1)}),$(document).on("submit",".js-form-submit",()=>(0!==$(".js-photos-list li.selected").length&&(5<$(".js-photos-list li.selected").length?($(".js-photos-toast").addClass("show").on("click",function(){$(this).removeClass("show")}),setTimeout(()=>{$(".js-photos-toast").removeClass("show")},3e3)):(async()=>{let e={};e.event_name=Photos.event_name,e.uid=Photos.handle,e.photowalker=Photos.selected_photowaker,e.images=[],$(".js-photos-list li.selected").each(function(){e.images.push($(this).attr("data-filename"))}),$(".js-page").html(page_loading);try{if("success"!=(await setLikes(e)).status)return!$(".js-page").html(page_error);for(Photos.likes?Photos.likes=Photos.likes.filter(e=>e.photowalker!==Photos.selected_photowaker):Photos.likes=[],i=0;i<e.images.length;i++)Photos.likes.push({filename:e.images[i],photowalker:Photos.selected_photowaker});$(".js-page").html(page_complete)}catch(e){return $(".js-page").html(page_error),!console.error("error",e)}})()),!1)),$(document).on("click",".js-photos-back",()=>{switch($(".js-photos").attr("data-type")){case"confirm":Photos.showList();break;case"submit":$(".js-photos").attr("data-type","confirm"),$(".js-photos-list li").removeClass("temp")}}),$(document).on("click",".js-link-complete",Photos.showList)}),()=>$.ajax({url:"./assets/api/create_user.php",method:"POST",dataType:"json",data:{csrf_token:CSRF_TOKEN}})),getEventInfo=(e="")=>$.ajax({url:"./assets/api/event_info.php",method:"POST",dataType:"json",data:{event_name:e,csrf_token:CSRF_TOKEN}}),getUser=(e="")=>$.ajax({url:"./assets/api/get_user.php",method:"POST",dataType:"json",data:{uid:e,event_name:Photos.event_name,csrf_token:CSRF_TOKEN}}),page_loading=`
<div class="flex-center">
  <span class="animation-blinker">loading...</span>
</div>
`,page_error=`
<div class="flex-center">
  <div class="error">
    <p>
      <span class="ja">想定外のエラーが発生しました。<br>時間を置いてもう一度お試しください。</span>
      <span class="en">Something went wrong.<br>Please try again in a little while.</span>
    </p>
    <p><a href="/">はじめに戻る</a></p>
  </div>
</div>
`,page_init=`
<section class="flex-center">
  <div class="init">
    <h1>自薦＆他薦で決める一枚</h1>
    <p class="init-excerpt">「誰が」「どの写真」を選んだか分からないから、完全に自分視点になれるのがイイ！</p>
    <form class="js-form-event">
      <div>
        <input type="text" name="id" value="" placeholder="イベントID">
        <button type="submit">
          <span class="ja">スタート</span>
          <span class="en">START</span>
        </button>
      </div>
      <p class="form-error js-form-error" style="visibility:hidden;"></p>
    </form>
  </div>
</section>
`,page_account=`
<section class="flex-center">
  <section class="account js-account" data-flow="1">
    <p class="bar2"><a class="bar2-link-back" onclick="location.href='./';">終了する</a></p>
    <hgroup>
      <h2 class="js-account-title"></h2>
      <p class="js-account-time"></p>
    </hgroup>
    <div class="account-excerpt">
      <p class="js-account-excerpt"></p>
      <div class="ja">
        <p>選出方法ですが、自薦＆他薦で選出したいと思います。<br>フォトウォーカーごとに、「おっ！」となった写真を選んで決めましょう！</p>
        <p>投票IDはありますか？</p>
      </div>
      <div class="en">
        <p>We’ll choose the photos through self and peer nominations.<br>For each photowalker, pick up to five photos that caught your eye and cast your vote!</p>
        <p>Do you have your voting ID?</p>
      </div>
    </div>
    <div>
      <button type="button" class="js-account-firsttime">
        <span class="ja">はじめて</span>
        <span class="en">First Time</span>
      </button>
      <button type="button" class="js-account-returning">
        <span class="ja">あります！</span>
        <span class="en">Returning</span>
      </button>
    </div>
  </section>

  <section class="account js-account" data-flow="2-1" style="display:none;">
    <p class="bar2"><a class="bar2-link-back js-link-account">戻る</a></p>
    <p>あなたの投票IDを作成します。<br>再発行はできませんので、作成後はキャプチャやどこかにメモしておいてくださいね。</p>
    <p>
      <button type="button" class="js-account-create">作成する</button>
    </p>
  </section>

  <section class="account js-account" data-flow="2-2" style="display:none;">
    <p class="bar2"><a class="bar2-link-back js-link-account">戻る</a></p>
    <form class="js-form-account">
      <div>
        <input type="text" name="display_name" value="" placeholder="投票ID">
        <button type="submit">
          <span class="ja">投票する</span>
          <span class="en">JOIN</span>
        </button>
      </div>
      <p class="form-error js-form-error" style="visibility:hidden;margin-bottom:10px;">投票IDが一致しません。<br>ID名を確かめてください。</p>
    </form>
  </section>
</section>
`,page_list=`
<section class="flex-center">
  <p class="bar2"><a class="bar2-link-back" onclick="location.href='./';">終了する</a></p>
  <div class="list">
    <p class="ja">敬称略、アルファベット順</p>
    <ul class="js-photowalkers-list"></ul>
  </div>
</section>
`,page_photos=`
<section class="photos js-photos" data-type="confirm" data-bg="white">
  <nav class="bar bar--top">
    <button type="button" class="icon-back js-photos-back">«</button>
    <div>
      <button type="button" class="icon-column js-photos-layout" data-type="column">
        <span class="icon-column-inner">
          <span></span>
          <span></span>
          <span></span>
          <span></span>
          <span></span>
          <span></span>
          <span></span>
          <span></span>
          <span></span>
        </span>
      </button>
      <button type="button" class="icon-one js-photos-layout" data-type="one">
        <span></span>
      </button>
      <button type="button" class="icon-bg js-photos-bg">
        <span class="icon-bg-inner">
          <span></span>
          <span></span>
        </span>
      </button>
    </div>
  </nav>
  <div class="photos-inner">
    <p class="photos-list-excerpt">
      <span class="ja">「おっ！」となった写真を選んでください。</span>
      <span class="en">Choose the photo that caught your eye.</span>
    </p>
    <ul class="photos-list js-photos-list" data-layout="column" data-bg="white"></ul>
  </div>
  <nav class="bar bar--bottom-confirm">
    <button type="button" class="photos-selected js-photos-selected">次へ</button>
  </nav>
  <nav class="bar bar--bottom-submit">
    <span>
      <span class="js-photos-selected-num">0</span> / 5
    </span>
    <form class="js-form-submit">
      <button type="submit" class="photos-selected js-photos-submit">決定する</button>
    </form>
  </nav>

  <div class="photos-toast js-photos-toast">5枚まで!!</div>
</section>
`,page_complete=`
<section class="flex-center">
  <div class="complete">
    <p>
      <span class="ja">ありがとうございます！<br>投票を受け付けました。</span>
      <span class="en">Thank you!</span>
    </p>
    <p>
      <button type="button" class="js-link-complete">
        <span class="ja">リストに戻る</span>
        <span class="en">Back to List</span>
      </button>
    </p>
  </div>
</section>
`,setLikes=(e={})=>(e.csrf_token=CSRF_TOKEN,$.ajax({url:"./assets/api/likes.php",method:"POST",dataType:"json",data:e})),Photos={};Photos.ls=Fn.storageLS("photowalk")||{},$(()=>{$(".js-page").html(page_init),Photos.ls.event_name&&$('.js-form-event input[name="id"]').val(Photos.ls.event_name)});